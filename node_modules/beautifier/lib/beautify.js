function css_beautify(w,g){function c(){return b=w.charAt(++u)}function t(a){for(var f=u;c();)if("\\"==b)c(),c();else if(b==a)break;else if("\n"==b)break;return w.substring(f,u+1)}function f(){for(var b=u;a.test(w.charAt(u+1));)u++;return u!=b}function j(){var a=u;for(c();c();)if("*"==b&&"/"==w.charAt(u+1)){u++;break}return w.substring(a,u+1)}var g=g||{},i=g.indent_size||4,C=g.indent_char||" ";"string"==typeof i&&(i=parseInt(i));var a=/^\s+$/,u=-1,b,x=w.match(/^[\r\n]*[\t ]*/)[0],C=Array(i+1).join(C),
I=0,p={"{":function(a){p.singleSpace();s.push(a);p.newLine()},"}":function(a){p.newLine();s.push(a);p.newLine()},newLine:function(b){if(!b)for(;a.test(s[s.length-1]);)s.pop();s.length&&s.push("\n");x&&s.push(x)},singleSpace:function(){s.length&&!a.test(s[s.length-1])&&s.push(" ")}},s=[];for(x&&s.push(x);;){var J;J=u;do;while(a.test(c()));J=u!=J+1;if(!b)break;"{"==b?(I++,x+=C,p["{"](b)):"}"==b?(I--,x=x.slice(0,-i),p["}"](b)):'"'==b||"'"==b?s.push(t(b)):";"==b?s.push(b,"\n",x):"/"==b&&"*"==w.charAt(u+
1)?(p.newLine(),s.push(j(),"\n",x)):"("==b?(s.push(b),f(),"url"==s.slice(-4,-1).join("").toLowerCase()&&c()&&(")"!=b&&'"'!=b&&"'"!=b?s.push(t(")")):u--)):")"==b?s.push(b):","==b?(f(),s.push(b),p.singleSpace()):("]"!=b&&("["==b||"="==b?f():J&&p.singleSpace()),s.push(b))}return s.join("").replace(/[\n ]+$/,"")}"undefined"!==typeof exports&&(exports.css_beautify=css_beautify);function style_html(w,g){var c,t,f,j,i,g=g||{};t=g.indent_size||4;f=g.indent_char||" ";i=g.brace_style||"collapse";j=0==g.max_char?Infinity:g.max_char||70;unformatted=g.unformatted||"a span bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");c=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=
this.token_type=this.tag_type="";this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?=".split(" "),extra_liners:["head","body","/html"],in_array:function(a,c){for(var b=0;b<c.length;b++)if(a===c[b])return!0;return!1}};this.get_content=function(){for(var a="",c=[],b=!1;"<"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return c.length?c.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);
this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))c.length&&(b=!0),this.line_char_count--;else{if(b){if(this.line_char_count>=this.max_char){c.push("\n");for(b=0;b<this.indent_level;b++)c.push(this.indent_string);this.line_char_count=0}else c.push(" "),this.line_char_count++;b=!1}c.push(a)}}return c.length?c.join(""):""};this.get_contents_to=function(a){if(this.pos==this.input.length)return["","TK_EOF"];var c="",a=RegExp("</"+a+"\\s*>","igm");a.lastIndex=this.pos;a=
(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(c=this.input.substring(this.pos,a),this.pos=a);return c};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+"count"]++:this.tags[a+"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var c=this.tags.parent;c&&a+this.tags[a+"count"]!==c;)c=this.tags[c+"parent"];
c&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[c+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+"count"]];1==this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.get_tag=function(){var a="",c=[],b=!1,f;do{if(this.pos>=this.input.length)return c.length?c.join(""):["","TK_EOF"];a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(a,this.Utils.whitespace))b=!0,
this.line_char_count--;else{if("'"===a||'"'===a)if(!c[1]||"!"!==c[1])a+=this.get_unformatted(a),b=!0;"="===a&&(b=!1);c.length&&("="!==c[c.length-1]&&">"!==a&&b)&&(this.line_char_count>=this.max_char?(this.print_newline(!1,c),this.line_char_count=0):(c.push(" "),this.line_char_count++),b=!1);"<"===a&&(f=this.pos-1);c.push(a)}}while(">"!==a);a=c.join("");b=-1!=a.indexOf(" ")?a.indexOf(" "):a.indexOf(">");b=a.substring(1,b).toLowerCase();"/"===a.charAt(a.length-2)||this.Utils.in_array(b,this.Utils.single_token)?
this.tag_type="SINGLE":"script"===b?(this.record_tag(b),this.tag_type="SCRIPT"):"style"===b?(this.record_tag(b),this.tag_type="STYLE"):this.Utils.in_array(b,unformatted)?(a=this.get_unformatted("</"+b+">",a),c.push(a),0<f&&this.Utils.in_array(this.input.charAt(f-1),this.Utils.whitespace)&&c.splice(0,0,this.input.charAt(f-1)),f=this.pos-1,this.Utils.in_array(this.input.charAt(f+1),this.Utils.whitespace)&&c.push(this.input.charAt(f+1)),this.tag_type="SINGLE"):"!"===b.charAt(0)?-1!=b.indexOf("[if")?
(-1!=a.indexOf("!IE")&&(a=this.get_unformatted("--\>",a),c.push(a)),this.tag_type="START"):-1!=b.indexOf("[endif")?(this.tag_type="END",this.unindent()):(a=-1!=b.indexOf("[cdata[")?this.get_unformatted("]]\>",a):this.get_unformatted("--\>",a),c.push(a),this.tag_type="SINGLE"):("/"===b.charAt(0)?(this.retrieve_tag(b.substring(1)),this.tag_type="END"):(this.record_tag(b),this.tag_type="START"),this.Utils.in_array(b,this.Utils.extra_liners)&&this.print_newline(!0,this.output));return c.join("")};this.get_unformatted=
function(a,c){if(c&&-1!=c.indexOf(a))return"";var b="",f="",g=!0;do{if(this.pos>=this.input.length)break;b=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(b,this.Utils.whitespace)){if(!g){this.line_char_count--;continue}if("\n"===b||"\r"===b){f+="\n";this.line_char_count=0;continue}}f+=b;this.line_char_count++;g=!0}while(-1==f.indexOf(a));return f};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var c=this.last_token.substr(7);
a=this.get_contents_to(c);return"string"!==typeof a?a:[a,"TK_"+c]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||0;return 1>a?"":Array(a+1).join(this.indent_string)};this.printer=function(a,c,b,f,g){this.input=a||"";this.output=[];this.indent_character=c;this.indent_string="";this.indent_size=
b;this.brace_style=g;this.indent_level=0;this.max_char=f;for(a=this.line_char_count=0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(c,a){this.line_char_count=0;if(a&&a.length){if(!c)for(;this.Utils.in_array(a[a.length-1],this.Utils.whitespace);)a.pop();a.push("\n");for(var b=0;b<this.indent_level;b++)a.push(this.indent_string)}};this.print_token=function(a){this.output.push(a)};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&
this.indent_level--}};return this};for(c.printer(w,f,t,j,i);;){t=c.get_token();c.token_text=t[0];c.token_type=t[1];if("TK_EOF"===c.token_type)break;switch(c.token_type){case "TK_TAG_START":c.print_newline(!1,c.output);c.print_token(c.token_text);c.indent();c.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":c.print_newline(!1,c.output);c.print_token(c.token_text);c.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===c.last_token&&""===c.last_text&&(t=c.token_text.match(/\w+/)[0],
f=c.output[c.output.length-1].match(/<\s*(\w+)/),(null===f||f[1]!==t)&&c.print_newline(!0,c.output));c.print_token(c.token_text);c.current_mode="CONTENT";break;case "TK_TAG_SINGLE":t=c.token_text.match(/^\s*<([a-z]+)/i);(!t||!c.Utils.in_array(t[1],unformatted))&&c.print_newline(!1,c.output);c.print_token(c.token_text);c.current_mode="CONTENT";break;case "TK_CONTENT":""!==c.token_text&&c.print_token(c.token_text);c.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==c.token_text){c.output.push("\n");
t=c.token_text;if("TK_SCRIPT"==c.token_type)var C="function"==typeof js_beautify&&js_beautify;else"TK_STYLE"==c.token_type&&(C="function"==typeof css_beautify&&css_beautify);j="keep"==g.indent_scripts?0:"separate"==g.indent_scripts?-c.indent_level:1;f=c.get_full_indent(j);C?t=C(t.replace(/^\s*/,f),g):(i=t.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(c.indent_string).length-1,j=c.get_full_indent(j-i),t=t.replace(/^\s*/,f).replace(/\r\n|\r|\n/g,"\n"+j).replace(/\s*$/,""));t&&(c.print_token(t),c.print_newline(!0,
c.output))}c.current_mode="TAG"}c.last_token=c.token_type;c.last_text=c.token_text}return c.output.join("")};function js_beautify(w,g){function c(a){for(a="undefined"===typeof a?!1:a;n.length&&(" "===n[n.length-1]||n[n.length-1]===F||n[n.length-1]===M||a&&("\n"===n[n.length-1]||"\r"===n[n.length-1]));)n.pop()}function t(a){return a.replace(/^\s\s*|\s\s*$/,"")}function f(a,d){e.eat_next_space=!1;if(!A||!u(e.mode)){a="undefined"===typeof a?!0:a;if("undefined"===typeof d||d)e.if_line=!1,e.chain_extra_indentation=0;c();if(n.length){if("\n"!==n[n.length-1]||!a)G=!0,n.push("\n");M&&n.push(M);for(var b=0;b<e.indentation_level+
e.chain_extra_indentation;b+=1)n.push(F);e.var_line&&e.var_line_reindented&&n.push(F)}}}function j(){if("TK_COMMENT"===h)return f();if(e.eat_next_space)e.eat_next_space=!1;else{var a=" ";n.length&&(a=n[n.length-1]);" "!==a&&("\n"!==a&&a!==F)&&n.push(" ")}}function i(){G=!1;e.eat_next_space=!1;n.push(r)}function C(){n.length&&n[n.length-1]===F&&n.pop()}function a(a){e&&N.push(e);e={previous_mode:e?e.mode:"BLOCK",mode:a,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,
chain_extra_indentation:0,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_baseline:-1,indentation_level:e?e.indentation_level+(e.var_line&&e.var_line_reindented?1:0):0,ternary_depth:0}}function u(a){return"[EXPRESSION]"===a||"[INDENTED-EXPRESSION]"===a}function b(a){return p(a,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function x(){O="DO_BLOCK"===e.mode;if(0<N.length){var a=e.mode;e=N.pop();e.previous_mode=a}}function I(a){return p(a,"case return do if throw else".split(" "))}
function p(a,c){for(var d=0;d<c.length;d+=1)if(c[d]===a)return!0;return!1}function s(a){for(var c=d,e=k.charAt(c);p(e,P)&&e!==a;){c++;if(c>=v)return 0;e=k.charAt(c)}return e}function J(){var a;B=0;if(d>=v)return["","TK_EOF"];H=!1;var b=k.charAt(d);d+=1;if(A&&u(e.mode)){for(var g=0;p(b,P);){"\n"===b?(c(),n.push("\n"),G=!0,g=0):"\t"===b?g+=4:"\r"!==b&&(g+=1);if(d>=v)return["","TK_EOF"];b=k.charAt(d);d+=1}-1===e.indentation_baseline&&(e.indentation_baseline=g);if(G){for(a=0;a<e.indentation_level+1;a+=
1)n.push(F);if(-1!==e.indentation_baseline)for(a=0;a<g-e.indentation_baseline;a++)n.push(" ")}}else{for(;p(b,P);){"\n"===b&&(B+=S?B<=S?1:0:1);if(d>=v)return["","TK_EOF"];b=k.charAt(d);d+=1}if(R&&1<B)for(a=0;a<B;a+=1)f(0===a),G=!0;H=0<B}if(p(b,Q)){if(d<v)for(;p(k.charAt(d),Q)&&!(b+=k.charAt(d),d+=1,d===v););if(d!==v&&b.match(/^[0-9]+[Ee]$/)&&("-"===k.charAt(d)||"+"===k.charAt(d)))return a=k.charAt(d),d+=1,g=J(),b+=a+g[0],[b,"TK_WORD"];if("in"===b)return[b,"TK_OPERATOR"];H&&("TK_OPERATOR"!==h&&"TK_EQUALS"!==
h&&!e.if_line&&(R||"var"!==l))&&f();return[b,"TK_WORD"]}if("("===b||"["===b)return[b,"TK_START_EXPR"];if(")"===b||"]"===b)return[b,"TK_END_EXPR"];if("{"===b)return[b,"TK_START_BLOCK"];if("}"===b)return[b,"TK_END_BLOCK"];if(";"===b)return[b,"TK_SEMICOLON"];if("/"===b){a="";g=!0;if("*"===k.charAt(d)){d+=1;if(d<v)for(;d<v&&!("*"===k.charAt(d)&&k.charAt(d+1)&&"/"===k.charAt(d+1));){b=k.charAt(d);a+=b;if("\n"===b||"\r"===b)g=!1;d+=1;if(d>=v)break}d+=2;return g&&0===B?["/*"+a+"*/","TK_INLINE_COMMENT"]:
["/*"+a+"*/","TK_BLOCK_COMMENT"]}if("/"===k.charAt(d)){for(a=b;"\r"!==k.charAt(d)&&"\n"!==k.charAt(d)&&!(a+=k.charAt(d),d+=1,d>=v););H&&f();return[a,"TK_COMMENT"]}}if("'"===b||'"'===b||"/"===b&&("TK_WORD"===h&&I(l)||")"===l&&p(e.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||"TK_COMMA"===h||"TK_COMMENT"===h||"TK_START_EXPR"===h||"TK_START_BLOCK"===h||"TK_END_BLOCK"===h||"TK_OPERATOR"===h||"TK_EQUALS"===h||"TK_EOF"===h||"TK_SEMICOLON"===h)){var g=b,j=!1,i=0,m=0;a=b;if(d<v)if("/"===g)for(b=
!1;j||b||k.charAt(d)!==g;){if(a+=k.charAt(d),j?j=!1:(j="\\"===k.charAt(d),"["===k.charAt(d)?b=!0:"]"===k.charAt(d)&&(b=!1)),d+=1,d>=v)return[a,"TK_STRING"]}else for(;j||k.charAt(d)!==g;){a+=k.charAt(d);if(i&&i>=m){if((i=parseInt(a.substr(-m),16))&&32<=i&&126>=i)i=String.fromCharCode(i),a=a.substr(0,a.length-m-2)+(i===g||"\\"===i?"\\":"")+i;i=0}i?i++:j?(j=!1,U&&("x"===k.charAt(d)?(i++,m=2):"u"===k.charAt(d)&&(i++,m=4))):j="\\"===k.charAt(d);d+=1;if(d>=v)return[a,"TK_STRING"]}d+=1;a+=g;if("/"===g)for(;d<
v&&p(k.charAt(d),Q);)a+=k.charAt(d),d+=1;return[a,"TK_STRING"]}if("#"===b){if(0===n.length&&"!"===k.charAt(d)){for(a=b;d<v&&"\n"!==b;)b=k.charAt(d),a+=b,d+=1;n.push(t(a)+"\n");f();return J()}a="#";if(d<v&&p(k.charAt(d),T)){do b=k.charAt(d),a+=b,d+=1;while(d<v&&"#"!==b&&"="!==b);"#"!==b&&("["===k.charAt(d)&&"]"===k.charAt(d+1)?(a+="[]",d+=2):"{"===k.charAt(d)&&"}"===k.charAt(d+1)&&(a+="{}",d+=2));return[a,"TK_WORD"]}}if("<"===b&&"<\!--"===k.substring(d-1,d+3)){d+=3;for(b="<\!--";"\n"!==k.charAt(d)&&
d<v;)b+=k.charAt(d),d++;e.in_html_comment=!0;return[b,"TK_COMMENT"]}if("-"===b&&e.in_html_comment&&"--\>"===k.substring(d-1,d+2))return e.in_html_comment=!1,d+=2,H&&f(),["--\>","TK_COMMENT"];if("."===b)return[b,"TK_DOT"];if(p(b,K)){for(;d<v&&p(b+k.charAt(d),K)&&!(b+=k.charAt(d),d+=1,d>=v););return","===b?[b,"TK_COMMA"]:"="===b?[b,"TK_EQUALS"]:[b,"TK_OPERATOR"]}return[b,"TK_UNKNOWN"]}var k,n,r,h,l,q,z,e,N,F,P,Q,K,d,D,T,m,L,O,H,G,B,M="",g=g?g:{},y;void 0!==g.space_after_anon_function&&void 0===g.jslint_happy&&
(g.jslint_happy=g.space_after_anon_function);void 0!==g.braces_on_own_line&&(y=g.braces_on_own_line?"expand":"collapse");y=g.brace_style?g.brace_style:y?y:"collapse";D=g.indent_size?g.indent_size:4;z=g.indent_char?g.indent_char:" ";var R="undefined"===typeof g.preserve_newlines?!0:g.preserve_newlines,V="undefined"===typeof g.break_chained_methods?!1:g.break_chained_methods,S="undefined"===typeof g.max_preserve_newlines?!1:g.max_preserve_newlines,W="undefined"===g.jslint_happy?!0:g.jslint_happy,A=
"undefined"===typeof g.keep_array_indentation?!1:g.keep_array_indentation,X="undefined"===typeof g.space_before_conditional?!0:g.space_before_conditional,U="undefined"===typeof g.unescape_strings?!1:g.unescape_strings;G=!1;var v=w.length;for(F="";0<D;)F+=z,D-=1;for(;w&&(" "===w.charAt(0)||"\t"===w.charAt(0));)M+=w.charAt(0),w=w.substring(1);k=w;z="";h="TK_START_EXPR";q=l="";n=[];O=!1;P=["\n","\r","\t"," "];Q="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split("");T="0123456789".split("");
K="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::";K+=" <%= <% %> <?= <? ?>";K=K.split(" ");D="continue try throw return var if switch case default for while break function".split(" ");N=[];a("BLOCK");for(d=0;;){L=J();r=L[0];L=L[1];if("TK_EOF"===L)break;switch(L){case "TK_START_EXPR":if("["===r){if("TK_WORD"===h||")"===l){p(l,D)&&j();a("(EXPRESSION)");i();break}"[EXPRESSION]"===e.mode||"[INDENTED-EXPRESSION]"===e.mode?"]"===q&&","===
l?("[EXPRESSION]"===e.mode&&(e.mode="[INDENTED-EXPRESSION]",A||(e.indentation_level+=1)),a("[EXPRESSION]"),A||f()):"["===l?("[EXPRESSION]"===e.mode&&(e.mode="[INDENTED-EXPRESSION]",A||(e.indentation_level+=1)),a("[EXPRESSION]"),A||f()):a("[EXPRESSION]"):a("[EXPRESSION]")}else"for"===z?a("(FOR-EXPRESSION)"):p(z,["if","while"])?a("(COND-EXPRESSION)"):a("(EXPRESSION)");";"===l||"TK_START_BLOCK"===h?f():"TK_END_EXPR"===h||"TK_START_EXPR"===h||"TK_END_BLOCK"===h||"."===l?H&&f():"TK_WORD"!==h&&"TK_OPERATOR"!==
h?j():"function"===z||"typeof"===z?W&&j():(p(l,D)||"catch"===l)&&X&&j();i();break;case "TK_DOT":if(I(l))j();else if(")"===l&&(V||H))e.chain_extra_indentation=1,f(!0,!1);i();break;case "TK_END_EXPR":if("]"===r)if(A){if("}"===l){C();i();x();break}}else if("[INDENTED-EXPRESSION]"===e.mode&&"]"===l){x();f();i();break}x();i();break;case "TK_START_BLOCK":"do"===z?a("DO_BLOCK"):a("BLOCK");"expand"===y||"expand-strict"===y?(q=!1,"expand-strict"===y?(q="}"===s())||f(!0):"TK_OPERATOR"!==h&&("="===l||I(l)&&
"else"!==l?j():f(!0)),i(),q||(e.indentation_level+=1)):("TK_OPERATOR"!==h&&"TK_START_EXPR"!==h?"TK_START_BLOCK"===h?f():j():u(e.previous_mode)&&","===l&&("}"===q?j():f()),e.indentation_level+=1,i());break;case "TK_END_BLOCK":x();"expand"===y||"expand-strict"===y?"{"!==l&&f():"TK_START_BLOCK"===h?G?C():c():u(e.mode)&&A?(A=!1,f(),A=!0):f();i();break;case "TK_WORD":if(O){j();i();j();O=!1;break}m="NONE";if("function"===r){e.var_line&&"TK_EQUALS"!==h&&(e.var_line_reindented=!0);if((G||";"===l)&&"{"!==
l&&"TK_BLOCK_COMMENT"!==h&&"TK_COMMENT"!==h){B=G?B:0;R||(B=1);for(z=0;z<2-B;z++)f(!1)}"TK_WORD"===h?"get"===l||"set"===l||"new"===l||"return"===l?j():f():"TK_OPERATOR"===h||"="===l?j():b(e.mode)||f();i();z=r;break}if("case"===r||"default"===r&&e.in_case_statement){f();e.case_body&&(e.indentation_level--,e.case_body=!1,C());i();e.in_case=!0;e.in_case_statement=!0;break}"TK_END_BLOCK"===h?p(r.toLowerCase(),["else","catch","finally"])?"expand"===y||"end-expand"===y||"expand-strict"===y?m="NEWLINE":(m=
"SPACE",j()):m="NEWLINE":"TK_SEMICOLON"===h&&("BLOCK"===e.mode||"DO_BLOCK"===e.mode)?m="NEWLINE":"TK_SEMICOLON"===h&&b(e.mode)?m="SPACE":"TK_STRING"===h?m="NEWLINE":"TK_WORD"===h?("else"===l&&c(!0),m="SPACE"):"TK_START_BLOCK"===h?m="NEWLINE":"TK_END_EXPR"===h&&(j(),m="NEWLINE");p(r,D)&&")"!==l&&(m="else"===l?"SPACE":"NEWLINE");e.if_line&&"TK_END_EXPR"===h&&(e.if_line=!1);if(p(r.toLowerCase(),["else","catch","finally"]))"TK_END_BLOCK"!==h||"expand"===y||"end-expand"===y||"expand-strict"===y?f():(c(!0),
j());else if("NEWLINE"===m)if(I(l))j();else if("TK_END_EXPR"!==h){if(("TK_START_EXPR"!==h||"var"!==r)&&":"!==l)"if"===r&&"else"===z&&"{"!==l?j():(e.var_line=!1,e.var_line_reindented=!1,f())}else p(r,D)&&")"!==l&&(e.var_line=!1,e.var_line_reindented=!1,f());else u(e.mode)&&","===l&&"}"===q?f():"SPACE"===m&&j();i();z=r;"var"===r&&(e.var_line=!0,e.var_line_reindented=!1,e.var_line_tainted=!1);"if"===r&&(e.if_line=!0);"else"===r&&(e.if_line=!1);break;case "TK_SEMICOLON":i();e.var_line=!1;e.var_line_reindented=
!1;"OBJECT"===e.mode&&(e.mode="BLOCK");break;case "TK_STRING":"TK_END_EXPR"===h&&p(e.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?j():"TK_COMMENT"===h||"TK_STRING"===h||"TK_START_BLOCK"===h||"TK_END_BLOCK"===h||"TK_SEMICOLON"===h?f():"TK_WORD"===h&&j();i();break;case "TK_EQUALS":e.var_line&&(e.var_line_tainted=!0);j();i();j();break;case "TK_COMMA":if(e.var_line){if(b(e.mode)||"TK_END_BLOCK"===h)e.var_line_tainted=!1;if(e.var_line_tainted){i();e.var_line_reindented=!0;e.var_line_tainted=
!1;f();break}else e.var_line_tainted=!1;i();j();break}"TK_COMMENT"===h&&f();"TK_END_BLOCK"===h&&"(EXPRESSION)"!==e.mode?(i(),"OBJECT"===e.mode&&"}"===l?f():j()):"OBJECT"===e.mode?(i(),f()):(i(),j());break;case "TK_OPERATOR":var E=m=!0;if(I(l)){j();i();break}if("*"===r&&"TK_DOT"===h&&!q.match(/^\d+$/)){i();break}if(":"===r&&e.in_case){e.case_body=!0;e.indentation_level+=1;i();f();e.in_case=!1;break}if("::"===r){i();break}p(r,["--","++","!"])||p(r,["-","+"])&&(p(h,["TK_START_BLOCK","TK_START_EXPR",
"TK_EQUALS","TK_OPERATOR"])||p(l,D))?(E=m=!1,";"===l&&b(e.mode)&&(m=!0),"TK_WORD"===h&&p(l,D)&&(m=!0),"BLOCK"===e.mode&&("{"===l||";"===l)&&f()):":"===r?0===e.ternary_depth?("BLOCK"===e.mode&&(e.mode="OBJECT"),m=!1):e.ternary_depth-=1:"?"===r&&(e.ternary_depth+=1);m&&j();i();E&&j();break;case "TK_BLOCK_COMMENT":q=r;q=q.replace(/\x0d/g,"");m=[];for(E=q.indexOf("\n");-1!==E;)m.push(q.substring(0,E)),q=q.substring(E+1),E=q.indexOf("\n");q.length&&m.push(q);q=m;a:{m=q.slice(1);for(E=0;E<m.length;E++)if("*"!==
t(m[E]).charAt(0)){m=!1;break a}m=!0}if(m){f();n.push(q[0]);for(m=1;m<q.length;m++)f(),n.push(" "),n.push(t(q[m]))}else{1<q.length?f():"TK_END_BLOCK"===h?f():j();for(m=0;m<q.length;m++)n.push(q[m]),n.push("\n")}"\n"!==s("\n")&&f();break;case "TK_INLINE_COMMENT":j();i();b(e.mode)?j():(q=A,A=!1,f(),A=q);break;case "TK_COMMENT":","===l&&!H&&c(!0);"TK_COMMENT"!==h&&(H?f():j());i();f();break;case "TK_UNKNOWN":i()}q=l;h=L;l=r}return M+n.join("").replace(/[\r\n ]+$/,"")}
"undefined"!==typeof exports&&(exports.js_beautify=js_beautify);
